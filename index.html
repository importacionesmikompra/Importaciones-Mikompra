<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Importaciones Mikompra | De USA a Nicaragua</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Poppins', sans-serif; }
        .hero-bg {
            background: linear-gradient(rgba(0, 51, 102, 0.85), rgba(0, 51, 102, 0.85)), url('https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1470&q=80');
            background-size: cover;
            background-position: center;
        }
        .smooth-scroll { scroll-behavior: smooth; }
        
        @keyframes bounce-slow {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        .animate-bounce-slow { animation: bounce-slow 3s infinite; }

        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: sweep .5s ease-in-out; }
        @keyframes sweep {
            0%    {opacity: 0; transform: translateY(-10px)}
            100%  {opacity: 1; transform: translateY(0)}
        }

        .christmas-banner {
            background-color: #A32A29;
            color: white;
            padding: 1rem 0;
            z-index: 55;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .christmas-tree {
            color: #228B22;
            font-size: 1.5rem;
            margin-right: 0.5rem;
        }

        .item-added { animation: fadeIn 0.3s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-5px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            blue: '#003366', 
                            light: '#00BFFF', 
                            orange: '#FF6600', 
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-800 smooth-scroll">

    <div id="christmas-banner" class="christmas-banner fixed w-full top-0 text-center hidden">
        <div class="max-w-7xl mx-auto px-4">
            <p class="font-bold text-sm md:text-base flex items-center justify-center">
                <span class="christmas-tree hidden sm:inline">üéÑ</span> 
                <span class="text-yellow-300 font-extrabold mr-2" data-translate="banner_title">¬°Felices Fiestas!</span>
                <span data-translate="banner_message">Solo por este Mes, aprovecha nuestros precios especiales:</span>
                <span class="ml-3 px-3 py-1 bg-white text-brand-blue rounded-full font-extrabold shadow-lg">
                    A√©reo a <span class="text-red-600">$6.50/lb</span> y Mar√≠timo a <span class="text-red-600">$2.20/lb</span>
                </span>
                <span class="christmas-tree hidden sm:inline ml-2">üéÑ</span>
            </p>
        </div>
    </div>

    <nav id="main-nav" class="bg-white shadow-md fixed w-full z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="https://scontent.fmga11-2.fna.fbcdn.net/v/t39.30808-6/338856886_133246173044899_5828221834102429652_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=xgAKLo6JEWkQ7kNvwE978Za&_nc_oc=AdmWmKsydii9CTe4OvhqcNy159Y5tilcnjFidK4CsUhtxxt5Yv-Kt3pbKDXs5CGxJC-xvNngA5vyXfQgrkGkbRDS&_nc_zt=23&_nc_ht=scontent.fmga11-2.fna&_nc_gid=vgfgPNVj2iSSO_DdTcHE-w&oh=00_Afnn68pFnJxQUffC0gi5yy33yseNqhdVsfNZnpyfr8Oqrg&oe=69579781" alt="Importaciones Mikompra Logo" class="h-16 w-auto object-contain">
                        <div class="ml-3 flex flex-col justify-center">
                            <span class="text-xs md:text-sm font-bold text-brand-blue tracking-widest uppercase leading-tight">Importaciones</span>
                            <span class="text-xl md:text-2xl font-black text-brand-blue tracking-tighter leading-none">Mikompra</span>
                        </div>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-6">
                    <a href="#inicio" class="text-gray-600 hover:text-brand-blue transition font-medium" data-translate="nav_home">Inicio</a>
                    <a href="#servicios" class="text-gray-600 hover:text-brand-blue transition font-medium" data-translate="nav_services">Servicios</a>
                    <a href="#calculadora" class="text-gray-600 hover:text-brand-blue transition font-medium" data-translate="nav_calc">Calculadora</a>
                    <a href="#faq" class="text-gray-600 hover:text-brand-blue transition font-medium" data-translate="nav_faq">Preguntas</a>
                    <a href="#contacto" class="bg-brand-orange text-white px-5 py-2 rounded-full hover:bg-orange-600 transition font-medium shadow-md" data-translate="nav_contact">Cont√°ctanos</a>
                    <button onclick="toggleLanguage()" class="flex items-center gap-2 border border-gray-300 rounded-full px-3 py-1 hover:bg-gray-100 transition ml-2">
                        <span id="lang-icon" class="text-lg">üá∫üá∏</span>
                        <span id="lang-text" class="text-sm font-bold text-gray-600">EN</span>
                    </button>
                </div>
                <div class="md:hidden flex items-center gap-4">
                    <button onclick="toggleLanguage()" class="flex items-center gap-1 border border-gray-300 rounded-full px-2 py-1 hover:bg-gray-100 transition">
                        <span id="lang-icon-mobile" class="text-lg">üá∫üá∏</span>
                        <span id="lang-text-mobile" class="text-xs font-bold text-gray-600">EN</span>
                    </button>
                    <button id="mobile-menu-button" class="text-gray-600 hover:text-brand-blue focus:outline-none">
                        <i class="fa-solid fa-bars text-2xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <a href="#inicio" class="block px-4 py-3 text-gray-600 hover:bg-gray-100" data-translate="nav_home">Inicio</a>
            <a href="#servicios" class="block px-4 py-3 text-gray-600 hover:bg-gray-100" data-translate="nav_services">Servicios</a>
            <a href="#calculadora" class="block px-4 py-3 text-gray-600 hover:bg-gray-100" data-translate="nav_calc">Calculadora</a>
            <a href="#faq" class="block px-4 py-3 text-gray-600 hover:bg-gray-100" data-translate="nav_faq">Preguntas</a>
            <a href="#contacto" class="block px-4 py-3 text-brand-orange font-bold hover:bg-gray-100" data-translate="nav_contact">Cont√°ctanos</a>
        </div>
    </nav>

    <section id="inicio" class="hero-bg h-screen flex items-center justify-center text-center px-4 pt-20 transition-all duration-300">
        <div class="max-w-4xl mx-auto text-white">
            <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight" data-translate="hero_title">Traemos tus compras de USA <br> directo a Nicaragua</h1>
            <p class="text-xl md:text-2xl mb-8 text-gray-200" data-translate="hero_subtitle">R√°pido y seguro</p>
            <div class="flex flex-col sm:flex-row justify-center gap-4">
                <a href="#calculadora" class="bg-brand-orange text-white px-8 py-4 rounded-lg font-bold text-lg hover:bg-orange-600 transition shadow-lg transform hover:-translate-y-1">
                    <i class="fa-solid fa-calculator mr-2"></i> <span data-translate="hero_btn_quote">Cotizar Env√≠o</span>
                </a>
                <a href="#como-funciona" class="bg-white text-brand-blue px-8 py-4 rounded-lg font-bold text-lg hover:bg-gray-100 transition shadow-lg">
                    <i class="fa-solid fa-circle-info mr-2"></i> <span data-translate="hero_btn_how">C√≥mo Funciona</span>
                </a>
            </div>
        </div>
    </section>

    <section class="py-12 bg-gray-100" id="stats-section">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-2 gap-8 text-center">
                <div>
                    <p class="text-5xl font-extrabold text-brand-blue mb-2"><span class="counter" data-target="5">0</span></p>
                    <p class="text-gray-600 font-medium" data-translate="stat_2_desc">A√±os de Experiencia</p>
                </div>
                <div>
                    <p class="text-5xl font-extrabold text-brand-blue mb-2"><span class="counter" data-target="15">0</span></p>
                    <p class="text-gray-600 font-medium" data-translate="stat_3_desc">Departamentos de Nicaragua</p>
                </div>
            </div>
        </div>
    </section>
    
    <section id="servicios" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold text-brand-blue mb-4" data-translate="services_title">Nuestros Servicios</h2>
                <p id="services-promo-alert" class="text-red-600 text-xl font-bold max-w-2xl mx-auto mb-4 hidden" data-translate="services_promo_alert"></p>
                <p class="text-gray-600 text-lg max-w-2xl mx-auto" data-translate="services_subtitle">Adaptamos nuestros env√≠os a tus necesidades. Ya sea que necesites rapidez o enviar grandes vol√∫menes.</p>
            </div>

            <div class="grid md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                <div class="bg-gray-50 rounded-2xl p-8 shadow-lg border border-gray-100 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 bg-brand-light text-white px-4 py-1 rounded-bl-lg font-bold text-sm" data-translate="air_badge">M√°s R√°pido</div>
                    <div class="flex items-center justify-center w-16 h-16 bg-blue-50 text-brand-blue rounded-full mb-6 text-3xl"><i class="fa-solid fa-plane-departure"></i></div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-4" data-translate="air_title">Env√≠o A√©reo</h3>
                    <p class="text-gray-600 mb-6" data-translate="air_desc">Ideal para compras en l√≠nea, ropa, electr√≥nicos peque√±os y documentos.</p>
                    <div class="border-t border-gray-200 pt-6">
                        <p class="text-sm text-gray-500 mb-1" data-translate="price_label">Precio por libra desde:</p>
                        <div id="air-price-display"><p class="text-4xl font-bold text-brand-blue inline-block">$7.00 <span class="text-lg text-gray-500 font-normal">/lb</span></p></div>
                    </div>
                </div>

                <div class="bg-gray-50 rounded-2xl p-8 shadow-lg border border-gray-100 relative overflow-hidden group">
                    <div class="absolute top-0 right-0 bg-brand-orange text-white px-4 py-1 rounded-bl-lg font-bold text-sm" data-translate="sea_badge">Mejor Precio</div>
                    <div class="flex items-center justify-center w-16 h-16 bg-orange-50 text-brand-orange rounded-full mb-6 text-3xl"><i class="fa-solid fa-ship"></i></div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-4" data-translate="sea_title">Env√≠o Mar√≠timo</h3>
                    <p class="text-gray-600 mb-6" data-translate="sea_desc">La mejor opci√≥n para cajas grandes, mudanzas o electrodom√©sticos.</p>
                    <div class="border-t border-gray-200 pt-6">
                        <p class="text-sm text-gray-500 mb-1" data-translate="price_label">Precio por libra desde:</p>
                        <div id="sea-price-display"><p class="text-4xl font-bold text-brand-blue inline-block">$2.50 <span class="text-lg text-gray-500 font-normal">/lb</span></p></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="calculadora" class="py-20 bg-brand-blue text-white">
        <div class="max-w-4xl mx-auto px-4 text-gray-800">
            <div class="text-center mb-10 text-white">
                <h2 class="text-3xl font-bold mb-4" data-translate="calc_title">Calcula tu Env√≠o Estimado</h2>
                <p id="calc-promo-note" class="text-yellow-300 font-bold mb-4 hidden" data-translate="calc_promo_note"></p>
                <p class="opacity-80" data-translate="calc_desc">Obt√©n un estimado r√°pido de cu√°nto costar√° traer tu paquete a Nicaragua.</p>
            </div>

            <div class="bg-white rounded-xl shadow-2xl p-6 md:p-10">
                <div class="mb-6 p-4 bg-blue-50 border border-blue-100 rounded-lg">
                    <label class="block text-sm font-bold mb-2 text-brand-blue" data-translate="calc_helper_label">Arma tu paquete (Selecciona producto y cantidad):</label>
                    <div class="flex flex-col md:flex-row gap-2 mb-3">
                        <select id="item-estimator" class="flex-[2] p-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:border-brand-blue">
                            <option value="" selected disabled>-- Selecciona un art√≠culo --</option>
                            <optgroup label="Ropa / Clothing">
                                <option value="0.5" data-name="Camiseta / Top">Camiseta / Top (0.5 lb)</option>
                                <option value="1.5" data-name="Jeans / Pantal√≥n">Jeans / Pantal√≥n (1.5 lb)</option>
                                <option value="0.8" data-name="Vestido / Dress">Vestido / Dress (0.8 lb)</option>
                            </optgroup>
                            <optgroup label="Calzado / Footwear">
                                <option value="2.5" data-name="Tenis / Sneakers">Tenis / Sneakers (2.5 lb)</option>
                                <option value="4.0" data-name="Botas">Botas (4.0 lb)</option>
                            </optgroup>
                        </select>
                        <div class="w-full md:w-24"><input type="number" id="item-quantity" value="1" min="1" class="w-full p-2 border border-gray-300 rounded-lg text-sm text-center"></div>
                        <button onclick="addItemToList()" class="bg-brand-orange text-white px-4 py-2 rounded-lg font-bold hover:bg-orange-600 transition flex items-center justify-center shadow-sm">
                            <i class="fa-solid fa-plus mr-1"></i> Agregar
                        </button>
                    </div>
                    <div id="items-list-container" class="hidden">
                        <ul id="items-list" class="space-y-2 mb-3 max-h-40 overflow-y-auto text-sm"></ul>
                        <div class="flex justify-between items-center border-t border-gray-200 pt-2">
                            <button onclick="clearItemsList()" class="text-xs text-red-500 underline">Borrar todo</button>
                            <p class="text-sm font-bold text-brand-blue">Total Peso: <span id="total-weight-display">0.0</span> lb</p>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-bold mb-2" data-translate="calc_label_weight">Peso Total (lb)</label>
                        <input type="number" id="weight" step="0.1" placeholder="Ej: 5" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-brand-blue font-bold" min="0.1" oninput="calculateShipping()">
                    </div>
                    <div>
                        <label class="block text-sm font-bold mb-2" data-translate="calc_label_method">M√©todo de Env√≠o</label>
                        <select id="method" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none" onchange="calculateShipping()">
                            <option value="air" data-translate="calc_opt_air">A√©reo ($7.00/lb)</option>
                            <option value="sea" data-translate="calc_opt_sea">Mar√≠timo ($2.50/lb)</option>
                        </select>
                    </div>
                </div>
                
                <div id="result" class="hidden mt-8 p-4 bg-gray-100 rounded-lg border-l-4 border-brand-blue text-center">
                    <p class="text-gray-600" data-translate="calc_result_label">Costo Estimado:</p>
                    <p class="text-4xl font-bold text-brand-blue" id="cost-display">$0.00</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center mb-16"><h2 class="text-3xl font-bold text-brand-blue mb-4" data-translate="testim_title">Lo que dicen nuestros clientes</h2><div class="w-24 h-1 bg-brand-orange mx-auto rounded"></div></div>
            <div class="grid md:grid-cols-3 gap-8">
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100"><div class="flex text-yellow-400 mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-600 mb-6 italic" data-translate="testim_1_text">"Excelente servicio, traje todos los repuestos para mi taller desde Miami y el env√≠o mar√≠timo fue s√∫per econ√≥mico. Recomendados."</p><div class="flex items-center gap-3"><div class="w-10 h-10 bg-brand-light rounded-full flex items-center justify-center text-white font-bold">CR</div><div><p class="font-bold text-sm">Carlos Ruiz</p><p class="text-xs text-gray-500">Managua</p></div></div></div>
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100"><div class="flex text-yellow-400 mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-600 mb-6 italic" data-translate="testim_2_text">"Me encanta que me traen mis paquetes hasta la puerta de mi casa en Granada. El servicio a√©reo es muy r√°pido."</p><div class="flex items-center gap-3"><div class="w-10 h-10 bg-brand-orange rounded-full flex items-center justify-center text-white font-bold">MG</div><div><p class="font-bold text-sm">Maria Gonz√°lez</p><p class="text-xs text-gray-500">Granada</p></div></div></div>
                <div class="bg-white p-8 rounded-xl shadow-lg border border-gray-100"><div class="flex text-yellow-400 mb-4"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div><p class="text-gray-600 mb-6 italic" data-translate="testim_3_text">"Primera vez que importo y me guiaron en todo el proceso. Muy amables y profesionales. Sin duda volver√© a usar Mikompra."</p><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-800 rounded-full flex items-center justify-center text-white font-bold">JL</div><div><p class="font-bold text-sm">Jorge L√≥pez</p><p class="text-xs text-gray-500">Estel√≠</p></div></div></div>
            </div>
        </div>
    </section>

    <section class="py-16 bg-gray-100">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <h2 class="text-3xl font-bold text-brand-blue mb-10" data-translate="map_title">Nuestra Ubicaci√≥n</h2>
            <div class="rounded-xl overflow-hidden shadow-2xl h-80 mb-4">
                <iframe src="https://maps.google.com/maps?q=Granada,Nicaragua&t=&z=14&ie=UTF8&iwloc=&output=embed" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
            <p class="text-gray-600" data-translate="map_address_detail">B√∫scanos en el mapa. Estamos cerca de la Gasolinera UNO Guapinol, Granada, Nicaragua.</p>
        </div>
    </section>

    <footer id="contacto" class="bg-gray-900 text-white pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <div>
                    <div class="flex items-center mb-6">
                        <img src="https://scontent.fmga11-2.fna.fbcdn.net/v/t39.30808-6/338856886_133246173044899_5828221834102429652_n.jpg?_nc_cat=102&ccb=1-7&_nc_sid=6ee11a&_nc_ohc=xgAKLo6JEWkQ7kNvwE978Za&_nc_oc=AdmWmKsydii9CTe4OvhqcNy159Y5tilcnjFidK4CsUhtxxt5Yv-Kt3pbKDXs5CGxJC-xvNngA5vyXfQgrkGkbRDS&_nc_zt=23&_nc_ht=scontent.fmga11-2.fna&_nc_gid=vgfgPNVj2iSSO_DdTcHE-w&oh=00_Afnn68pFnJxQUffC0gi5yy33yseNqhdVsfNZnpyfr8Oqrg&oe=69579781" alt="Logo Mikompra" class="h-16 w-auto rounded-md">
                    </div>
                    <p class="text-gray-400 text-sm" data-translate="footer_desc">Somos tu puente log√≠stico seguro y confiable hacia Nicaragua.</p>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-6 text-brand-orange" data-translate="footer_contact_title">Contacto</h4>
                    <ul class="space-y-4 text-gray-300">
                        <li class="flex items-start gap-3"><i class="fa-solid fa-location-dot mt-1 text-brand-light"></i><span data-translate="footer_address">Gasolinera UNO Guapinol 5 cuadras al norte, Granada, Nicaragua.</span></li>
                        <li class="flex items-center gap-3"><i class="fa-brands fa-whatsapp text-green-500"></i><a href="https://wa.me/50588826162" target="_blank" class="hover:text-green-400">+505 8882-6162</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-6 text-brand-orange" data-translate="footer_schedule_title">Horario</h4>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>Lunes - Viernes: 8:00 AM - 5:00 PM</li>
                        <li>S√°bados: 8:00 AM - 12:00 MD</li>
                        <li class="text-red-400">Domingos: Cerrado</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold text-lg mb-6 text-brand-orange" data-translate="footer_follow">S√≠guenos</h4>
                    <div class="flex gap-4">
                        <a href="#" class="bg-white w-10 h-10 rounded-full flex items-center justify-center text-[#1877F2] transition hover:scale-110"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="bg-white w-10 h-10 rounded-full flex items-center justify-center text-[#E1306C] transition hover:scale-110"><i class="fa-brands fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-center text-gray-500 text-sm">¬© 2025 Importaciones Mikompra. Todos los derechos reservados.</div>
        </div>
    </footer>

    <div class="fixed bottom-6 right-6 z-50">
        <button onclick="toggleChat()" class="bg-green-500 text-white w-16 h-16 rounded-full shadow-2xl flex items-center justify-center animate-bounce-slow transition hover:scale-110"><i class="fa-brands fa-whatsapp text-4xl"></i></button>
    </div>
    <div id="chat-window" class="fixed bottom-24 right-6 w-80 bg-white rounded-2xl shadow-2xl z-50 hidden overflow-hidden transform transition-all duration-300 origin-bottom-right scale-0 opacity-0 border border-gray-200">
        <div class="bg-brand-blue p-4 flex justify-between items-center text-white"><h4 class="font-bold text-sm">Soporte Mikompra</h4><button onclick="toggleChat()"><i class="fa-solid fa-xmark"></i></button></div>
        <div class="p-4 bg-gray-100 h-64 overflow-y-auto text-sm">Hola üëã ¬øEn qu√© podemos ayudarte hoy?</div>
        <div class="p-3 bg-white border-t border-gray-100">
            <form onsubmit="sendToWhatsapp(event)" class="flex gap-2">
                <input type="text" id="chat-input" placeholder="Escribe..." class="flex-1 bg-gray-100 rounded-full px-4 py-2 text-sm focus:outline-none" required>
                <button type="submit" class="bg-green-500 text-white w-9 h-9 rounded-full flex items-center justify-center"><i class="fa-solid fa-paper-plane text-sm"></i></button>
            </form>
        </div>
    </div>

    <div id="toast-notification" class="fixed bottom-24 left-1/2 -translate-x-1/2 p-4 bg-green-600 text-white rounded-lg shadow-xl z-50 transition-all duration-300 transform translate-y-full opacity-0">
        <div class="flex items-center gap-3"><span id="toast-message" class="font-medium text-sm">Acci√≥n realizada.</span></div>
    </div>

    <script>
        const DEFAULT_AIR = 7.00, DEFAULT_SEA = 2.50, PROMO_AIR = 6.50, PROMO_SEA = 2.20;
        const PROMO_START = new Date('2025-12-03'), PROMO_END = new Date('2026-01-05');
        const IS_PROMO = new Date() >= PROMO_START && new Date() <= PROMO_END;
        let currentAir = IS_PROMO ? PROMO_AIR : DEFAULT_AIR, currentSea = IS_PROMO ? PROMO_SEA : DEFAULT_SEA;
        let currentLang = 'es', selectedItems = [];

        const translations = {
            es: {
                banner_title: "¬°Felices Fiestas!",
                hero_subtitle: "R√°pido y seguro",
                calc_opt_air: `A√©reo ($${currentAir.toFixed(2)}/lb${IS_PROMO ? ' - Oferta' : ''})`, 
                calc_opt_sea: `Mar√≠timo ($${currentSea.toFixed(2)}/lb${IS_PROMO ? ' - Oferta' : ''})`,
                stat_2_desc: "A√±os de Experiencia", stat_3_desc: "Departamentos de Nicaragua",
                nav_home: "Inicio", nav_services: "Servicios", nav_calc: "Calculadora", nav_faq: "Preguntas", nav_contact: "Cont√°ctanos",
                calc_helper_label: "Arma tu paquete (Selecciona producto y cantidad):",
                calc_label_weight: "Peso Total (lb)", calc_label_method: "M√©todo de Env√≠o"
            },
            en: {
                banner_title: "Happy Holidays!",
                hero_subtitle: "Fast and safe",
                calc_opt_air: `Air ($${currentAir.toFixed(2)}/lb${IS_PROMO ? ' - Offer' : ''})`, 
                calc_opt_sea: `Sea ($${currentSea.toFixed(2)}/lb${IS_PROMO ? ' - Offer' : ''})`,
                stat_2_desc: "Years of Experience", stat_3_desc: "Departments in Nicaragua",
                nav_home: "Home", nav_services: "Services", nav_calc: "Calculator", nav_faq: "FAQ", nav_contact: "Contact Us",
                calc_helper_label: "Build your package (Select product and quantity):",
                calc_label_weight: "Total Weight (lb)", calc_label_method: "Shipping Method"
            }
        };

        function applyPromoLogic() {
            if (IS_PROMO) {
                document.getElementById('christmas-banner').classList.remove('hidden');
                document.getElementById('services-promo-alert').classList.remove('hidden');
                document.getElementById('calc-promo-note').classList.remove('hidden');
                document.getElementById('main-nav').style.top = '48px';
                document.getElementById('inicio').style.paddingTop = '128px';
            }
            document.getElementById('method').querySelector('option[value="air"]').textContent = translations[currentLang].calc_opt_air;
            document.getElementById('method').querySelector('option[value="sea"]').textContent = translations[currentLang].calc_opt_sea;
        }

        function addItemToList() {
            const selector = document.getElementById('item-estimator'), qty = parseInt(document.getElementById('item-quantity').value);
            if (!selector.value) return;
            selectedItems.push({ 
                name: selector.options[selector.selectedIndex].getAttribute('data-name'), 
                weight: parseFloat(selector.value) * qty, 
                qty 
            });
            renderItems();
        }

        function renderItems() {
            const list = document.getElementById('items-list'), container = document.getElementById('items-list-container');
            list.innerHTML = "";
            let total = 0;
            selectedItems.forEach((item, i) => {
                total += item.weight;
                const li = document.createElement('li');
                li.className = "flex justify-between items-center bg-blue-50 px-2 py-1 rounded border border-blue-100 item-added";
                li.innerHTML = `<span><b>${item.qty}x</b> ${item.name} (${item.weight.toFixed(1)} lb)</span><button onclick="removeItem(${i})" class="text-red-400"><i class="fa-solid fa-trash-can"></i></button>`;
                list.appendChild(li);
            });
            container.classList.toggle('hidden', selectedItems.length === 0);
            const roundedTotal = Math.round(total * 10) / 10;
            document.getElementById('total-weight-display').textContent = roundedTotal.toFixed(1);
            document.getElementById('weight').value = total > 0 ? roundedTotal.toFixed(1) : "";
            document.getElementById('weight').readOnly = selectedItems.length > 0;
            calculateShipping();
        }

        function removeItem(i) { selectedItems.splice(i, 1); renderItems(); }
        function clearItemsList() { selectedItems = []; renderItems(); }

        function calculateShipping() {
            const weight = parseFloat(document.getElementById('weight').value), method = document.getElementById('method').value;
            const res = document.getElementById('result'), display = document.getElementById('cost-display');
            if (!weight || weight <= 0) { res.classList.add('hidden'); return; }
            display.textContent = '$' + (weight * (method === 'air' ? currentAir : currentSea)).toFixed(2);
            res.classList.remove('hidden');
        }

        function toggleLanguage() {
            currentLang = currentLang === 'es' ? 'en' : 'es';
            document.getElementById('lang-icon').textContent = currentLang === 'es' ? 'üá∫üá∏' : 'üá≥üáÆ';
            document.getElementById('lang-text').textContent = currentLang === 'es' ? 'EN' : 'ES';
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.dataset.translate;
                if (translations[currentLang][key]) el.innerHTML = translations[currentLang][key];
            });
            applyPromoLogic();
        }

        function toggleChat() {
            const win = document.getElementById('chat-window');
            const isOpen = !win.classList.contains('hidden');
            if (!isOpen) win.classList.remove('hidden');
            setTimeout(() => {
                win.classList.toggle('scale-100', !isOpen); win.classList.toggle('opacity-100', !isOpen);
                win.classList.toggle('scale-0', isOpen); win.classList.toggle('opacity-0', isOpen);
                if (isOpen) setTimeout(() => win.classList.add('hidden'), 300);
            }, 10);
        }

        function sendToWhatsapp(e) {
            e.preventDefault();
            const msg = document.getElementById('chat-input').value;
            window.open(`https://wa.me/50588826162?text=${encodeURIComponent(msg)}`, '_blank');
        }

        function startCounter(el, target) {
            let curr = 0;
            const duration = 2000, stepTime = 30;
            const steps = duration / stepTime;
            const increment = target / steps;
            const timer = setInterval(() => {
                curr += increment;
                if (curr >= target) { el.textContent = target; clearInterval(timer); }
                else { el.textContent = Math.floor(curr); }
            }, stepTime);
        }

        const counterObserver = new IntersectionObserver(entries => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.querySelectorAll('.counter').forEach(c => {
                        startCounter(c, parseInt(c.dataset.target));
                    });
                    counterObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.2 });

        document.addEventListener('DOMContentLoaded', () => {
            applyPromoLogic();
            const stats = document.getElementById('stats-section');
            if (stats) counterObserver.observe(stats);
        });
    </script>
</body>
</html>
